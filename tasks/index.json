{
  "tasks": [
    { "id": "task-0", "title": "Project scaffold (orchestrator + sidecar, Bun)", "status": "pending", "dependencies": [] },
    { "id": "task-1", "title": "Convex schema: users, sessions, instances", "status": "pending", "dependencies": ["task-0"] },
    { "id": "task-2", "title": "Convex schema: provider_keys (envelope fields)", "status": "pending", "dependencies": ["task-1"] },
    { "id": "task-3", "title": "Convex schema: pending_permissions, usage_events, session_artifacts", "status": "pending", "dependencies": ["task-1"] },
    { "id": "task-4", "title": "Convex setup + schema deploy", "status": "pending", "dependencies": ["task-1", "task-2", "task-3"] },
    { "id": "task-5", "title": "Access control: Convex auth + visibility rules", "status": "pending", "dependencies": ["task-4"] },
    { "id": "task-6", "title": "Dev identity: local user seeding (Convex)", "status": "pending", "dependencies": ["task-5"] },
    { "id": "task-7", "title": "Crypto utils: AES-256-GCM + master key", "status": "pending", "dependencies": ["task-0"] },
    { "id": "task-8", "title": "Envelope encryption service + versioning", "status": "pending", "dependencies": ["task-7"] },
    { "id": "task-9", "title": "Provider key CRUD service", "status": "pending", "dependencies": ["task-2", "task-8"] },
    { "id": "task-10", "title": "API: provider keys endpoints", "status": "pending", "dependencies": ["task-9"] },
    { "id": "task-11", "title": "Orchestrator server bootstrap", "status": "pending", "dependencies": ["task-0"] },
    { "id": "task-12", "title": "Auth middleware and user context", "status": "pending", "dependencies": ["task-11"] },
    { "id": "task-13", "title": "API: GET /v1/config/providers", "status": "pending", "dependencies": ["task-11"] },
    { "id": "task-14", "title": "API: Sessions CRUD (list/get/create/delete)", "status": "pending", "dependencies": ["task-11", "task-4", "task-5", "task-12"] },
    { "id": "task-15", "title": "API: Session stream (SSE/WS)", "status": "pending", "dependencies": ["task-11", "task-12"] },
    { "id": "task-16", "title": "Driver interface definition", "status": "pending", "dependencies": ["task-11"] },
    { "id": "task-17", "title": "Local driver (dev)", "status": "pending", "dependencies": ["task-16"] },
    { "id": "task-18", "title": "Docker driver (MVP)", "status": "pending", "dependencies": ["task-16"] },
    { "id": "task-19", "title": "Sidecar registration endpoint (/internal/register)", "status": "pending", "dependencies": ["task-10", "task-8", "task-14"] },
    { "id": "task-20", "title": "Orchestrator: create session lifecycle", "status": "pending", "dependencies": ["task-14", "task-16", "task-17"] },
    { "id": "task-21", "title": "Sidecar server bootstrap", "status": "pending", "dependencies": ["task-0"] },
    { "id": "task-22", "title": "Sidecar: registration client + key decrypt", "status": "pending", "dependencies": ["task-19", "task-21"] },
    { "id": "task-23", "title": "Sidecar: start opencode server via SDK", "status": "pending", "dependencies": ["task-21"] },
    { "id": "task-24", "title": "Sidecar: inject provider auth to opencode", "status": "pending", "dependencies": ["task-22", "task-23"] },
    { "id": "task-25", "title": "Sidecar: ensure/create opencode session", "status": "pending", "dependencies": ["task-23", "task-24"] },
    { "id": "task-26", "title": "Event bridge: sidecar -> orchestrator", "status": "pending", "dependencies": ["task-23", "task-15"] },
    { "id": "task-27", "title": "Agent Control API (sidecar)", "status": "pending", "dependencies": ["task-21", "task-23"] },
    { "id": "task-28", "title": "Orchestrator -> sidecar proxy routes", "status": "pending", "dependencies": ["task-14", "task-27"] },
    { "id": "task-29", "title": "Permissions tracking + API", "status": "pending", "dependencies": ["task-3", "task-26", "task-14"] },
    { "id": "task-30", "title": "Terminal: sidecar PTY server (WS)", "status": "pending", "dependencies": ["task-21"] },
    { "id": "task-31", "title": "Terminal: orchestrator WS proxy", "status": "pending", "dependencies": ["task-15", "task-30"] },
    { "id": "task-32", "title": "Resume flow: volume + artifact fallback", "status": "pending", "dependencies": ["task-20", "task-25"] },
    { "id": "task-33", "title": "Export: ZIP snapshot", "status": "pending", "dependencies": ["task-27", "task-3"] },
    { "id": "task-34", "title": "Export: GitHub push", "status": "pending", "dependencies": ["task-27", "task-3"] },
    { "id": "task-35", "title": "Usage events ingestion", "status": "pending", "dependencies": ["task-26", "task-3"] },
    { "id": "task-36", "title": "Security: tokens and WS TTLs", "status": "pending", "dependencies": ["task-20", "task-31"] },
    { "id": "task-37", "title": "Security: container hardening (docker)", "status": "pending", "dependencies": ["task-18"] },
    { "id": "task-38", "title": "Frontend: auth + routes skeleton", "status": "pending", "dependencies": ["task-0"] },
    { "id": "task-39", "title": "Frontend: session view streaming", "status": "pending", "dependencies": ["task-15", "task-13"] },
    { "id": "task-40", "title": "Frontend: permissions UI", "status": "pending", "dependencies": ["task-29"] },
    { "id": "task-41", "title": "Frontend: terminal tab (xterm.js)", "status": "pending", "dependencies": ["task-31"] },
    { "id": "task-42", "title": "Slash commands + subagents routing", "status": "pending", "dependencies": ["task-28", "task-39"] },
    { "id": "task-43", "title": "Model/provider switching per message", "status": "pending", "dependencies": ["task-10", "task-28", "task-39"] },
    { "id": "task-44", "title": "Observability: logs timeline", "status": "pending", "dependencies": ["task-26", "task-39"] },
    { "id": "task-45", "title": "Usage display and metering", "status": "pending", "dependencies": ["task-35", "task-39"] },
    { "id": "task-46", "title": "Security: no secrets in terminal env", "status": "pending", "dependencies": ["task-30"] },
    { "id": "task-47", "title": "Config: opencode session JSON path contract", "status": "pending", "dependencies": ["task-25", "task-14"] },
    { "id": "task-48", "title": "Artifacts: object storage adapter", "status": "pending", "dependencies": ["task-32", "task-33"] },
    { "id": "task-49", "title": "Open items: PTY implementation decision", "status": "pending", "dependencies": ["task-30"] },
    { "id": "task-50", "title": "API hardening: validation + limits", "status": "pending", "dependencies": ["task-11", "task-31"] }
  ]
}
