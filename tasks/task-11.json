{
  "id": "task-11",
  "title": "Orchestrator server bootstrap",
  "description": "Initialize Bun.serve orchestrator with router, JSON helpers, error handling, and structured logging.",
  "requirements": [
    "Global error handler mapping to { error, message, code }",
    "JSON helper to parse/validate bodies with size limits",
    "Request context object carrying user, db, logger",
    "Health endpoints: GET /health, GET /version"
  ],
  "plan": [
    "Create server entry with routes map and middleware",
    "Implement JSON utilities and error wrapper",
    "Add logger with request id",
    "Wire base routes (/health, /version)"
  ],
  "expected_outcome": "Running orchestrator server with base middleware ready.",
  "acceptance_criteria": [
    "/health returns {status:'ok'} with 200",
    "/version returns commit/semver if available",
    "Unhandled errors return JSON with 5xx and request id"
  ],
  "deliverables": ["apps/orchestrator/index.ts", "apps/orchestrator/lib/http.ts"],
  "test_plan": [
    "Start server and curl health/version",
    "Inject a route that throws to verify error handler"
  ],
  "references": ["Bun.serve docs"],
  "dependencies": ["task-0"],
  "status": "pending"
}
