{
  "id": "task-21",
  "title": "Sidecar server bootstrap",
  "description": "Initialize Bun.serve in sidecar with health and control endpoints skeleton.",
  "requirements": [
    "Bun.serve HTTP server with JSON helpers",
    "GET /health returns {status:'ok'}",
    "GET /version returns version and/or commit",
    "CORS enabled for orchestrator origin",
    "Structured error handler and logging"
  ],
  "plan": [
    "Create base server with JSON helpers",
    "Add /health and /version endpoints",
    "Stub Agent Control routes"
  ],
  "expected_outcome": "Sidecar server runs with basic endpoints.",
  "acceptance_criteria": [
    "GET /health responds 200 with {status:'ok'}",
    "GET /version responds 200 with non-empty version",
    "Control routes exist and return 404/501 placeholders",
    "Server binds to configured PORT"
  ],
  "deliverables": [
    "apps/sidecar/index.ts",
    "apps/sidecar/http.ts",
    "apps/sidecar/routes/health.ts",
    "apps/sidecar/routes/version.ts"
  ],
  "test_plan": [
    "bun test: health/version endpoints return expected payloads",
    "Manual curl verification for PORT and headers"
  ],
  "references": [
    "PLAN.md",
    "Bun.serve API"
  ],
  "dependencies": ["task-0"],
  "status": "pending"
}
